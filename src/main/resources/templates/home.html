<!--
      _/_/_/  _/_/_/      _/_/_/                                          _/
   _/        _/    _/  _/        _/  _/_/  _/    _/  _/_/_/_/    _/_/_/  _/    _/_/    _/    _/
    _/_/    _/_/_/    _/        _/_/      _/    _/      _/    _/    _/  _/  _/_/_/_/  _/    _/
       _/  _/        _/        _/        _/    _/    _/      _/    _/  _/  _/        _/    _/
_/_/_/    _/          _/_/_/  _/          _/_/_/  _/_/_/_/    _/_/_/  _/    _/_/_/    _/_/_/
                                                                                         _/
                                                                                    _/_/
April 2021
-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <title>Basic 86</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="styles/layout.css" type="text/css">
  <!--[if lt IE 9]><script src="scripts/html5shiv.js"></script><![endif]-->
</head>
<body>
<div class="wrapper row1">
  <header id="header" class="clear">
    <div id="hgroup">
      <h1><a href="#">Cognito Login Integration</a></h1>
      <h2>Using SpringBoot</h2>
    </div>
    <div id="hgroup_2">
      <img src="images/dou-logo-250.png"><br />
    </div>
  </header>
</div>
<!-- content -->
<div class="wrapper row2">
  <div id="container" class="clear">
    <!-- main content -->
    <div id="homepage">
      <!-- services area -->
      <section id="services" class="clear">
        <!-- Menu -->
        <article class="one_third">
          <h2>Menu</h2>
          <div sec:authorize="isAnonymous()">
            <a th:href="@{/oauth2/authorization/cognito-client}">Login &raquo;</a><br />
          </div>
          <div sec:authorize="isAuthenticated()">
            <a th:href="@{https://springdaydomain.auth.us-east-2.amazoncognito.com/logout?client_id=5iha86mol2ep344na0a4kfgcr4&logout_uri=http://localhost:8080/logout}">Logout &raquo;</a><br />
          </div>
          <a href="/info">Show restricted information &raquo;</a>
          <br /><hr /><br />
        </article>
        <!-- Content -->
        <!-- When is logged in with Cognito -->
        <div sec:authorize="isAuthenticated()">
          <article class="three_third lastbox">
            <h2>Login Information</h2>
            <img th:src="${userinfo.imagePath}" style="border: none;" />
            <table class="three_third lastbox">
              <tr>
                <td><strong>Cognito username:</strong></td>
                <td><span th:text="${userinfo.username}"></span></td>
              </tr>
              <tr>
                <td><strong>email:</strong></td>
                <td><span th:text="${userinfo.email}"></span></td>
              </tr>
              <tr>
                <td><strong>Rol:</strong></td>
                <td><span th:text="${userinfo.rol}"></span></td>
              </tr>
              <tr>
                <td><strong>Provider user id:</strong></td>
                <td><span th:text="${userinfo.providerInformation.userId}"></span></td>
              </tr>
              <tr>
                <td><strong>Provider name:</strong></td>
                <td><span th:text="${userinfo.providerInformation.providerName}"></span></td>
              </tr>
              <tr>
                <td><strong>Provider type:</strong></td>
                <td><span th:text="${userinfo.providerInformation.providerType}"></span></td>
              </tr>
              <tr>
                <td><strong>Provider issuer:</strong></td>
                <td><span th:text="${userinfo.providerInformation.issuer}"></span></td>
              </tr>
            </table>
          </article>
        </div>
      </section>
      <!-- / One Quarter -->
    </div>
    <!-- / content body -->
  </div>
</div>
<!-- Footer -->
<div class="wrapper row3">
  <footer id="footer" class="clear">
    <p class="fl_left">SpringDay - Cognito Authentication usign Spring Boot</p>
  </footer>
</div>
</body>
</html>
